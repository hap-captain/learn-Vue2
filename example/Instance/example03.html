
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="../../js/v2.6.10/vue.min.js"></script>
    <title>example03</title>
</head>
<body>
    <div id="app">
    	<h4>$on</h4>
		<p>{{num}}</p>
		<p><button type="button" @click="add">add</button></p>
    </div>
	<p>
		<button type="button" onclick="reduce()">reduce</button>
	</p>
	<h4>$once</h4>
	<p><button type="button" onclick="reduceOnce()">reduceOnce</button></p>
	<h4>$off</h4>
	<p><button type="button" onclick="reduceOff()">reduceOff</button></p>
    <script type="text/javascript">
        const APP=new Vue({
            el:'#app',
            data:{
				num:1,
            },
			methods:{
				add(){
					this.num ++;
				}
			},
        });
		
		APP.$on("reduce", function(){
			console.log("这是执行了reduce()方法")
			this.num --;
		})
		
		APP.$once("reduceOnce", function(){
			console.log("这是执行了reduce()方法")
			this.num --;
		})
		function reduce(){
			APP.$emit('reduce');
		}
		function reduceOnce(){
			APP.$emit('reduceOnce');
		}
		//关闭事件
		function reduceOff(){
			APP.$off("reduce")
		}
    </script>
</body>
</html>